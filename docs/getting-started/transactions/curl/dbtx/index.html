<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/orion-server/blog/rss.xml" title="Hyperledger Orion RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/orion-server/blog/atom.xml" title="Hyperledger Orion Atom Feed"><title data-react-helmet="true">Database Administration Transaction | Hyperledger Orion</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://hyperledger-labs.github.io/orion-server/docs/getting-started/transactions/curl/dbtx"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Database Administration Transaction | Hyperledger Orion"><meta data-react-helmet="true" name="description" content="To create or delete user databases, we need to issue a POST /db/tx , where txPayload"><meta data-react-helmet="true" property="og:description" content="To create or delete user databases, we need to issue a POST /db/tx , where txPayload"><link data-react-helmet="true" rel="shortcut icon" href="/orion-server/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hyperledger-labs.github.io/orion-server/docs/getting-started/transactions/curl/dbtx"><link data-react-helmet="true" rel="alternate" href="https://hyperledger-labs.github.io/orion-server/docs/getting-started/transactions/curl/dbtx" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hyperledger-labs.github.io/orion-server/docs/getting-started/transactions/curl/dbtx" hreflang="x-default"><link rel="stylesheet" href="/orion-server/assets/css/styles.5f4cd61c.css">
<link rel="preload" href="/orion-server/assets/js/runtime~main.41e822a2.js" as="script">
<link rel="preload" href="/orion-server/assets/js/main.4c1eb169.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_Zhym">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/orion-server/"><div class="navbar__logo"><img src="/orion-server/img/logo.svg" alt="Orion" class="themedImage_X7X7 themedImage--light_n7cD"><img src="/orion-server/img/logo.svg" alt="Orion" class="themedImage_X7X7 themedImage--dark_WTCb"></div><b class="navbar__title">Orion</b></a><a class="navbar__item navbar__link" href="/orion-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/orion-server/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger-labs/orion-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_tjMl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_7DKP toggle_gM5N toggleDisabled_YcJ9"><div class="toggleTrack_pr3n" role="button" tabindex="-1"><div class="toggleTrackCheck_1VIP"><span class="toggleIcon_iGPa">ðŸŒœ</span></div><div class="toggleTrackX_-cNO"><span class="toggleIcon_iGPa">ðŸŒž</span></div><div class="toggleTrackThumb_4edW"></div></div><input type="checkbox" class="toggleScreenReader_BFa8" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_ntW3"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Cy7D" type="button"></button><aside class="docSidebarContainer_ZbqI"><div class="sidebar_bpFd"><nav class="menu thin-scrollbar menu_fJBT"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/orion-server/docs/introduction">Hyperledger Orion</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/orion-server/docs/getting-started/guide">Using Orion</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Launching a Orion Node</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Pre-requisite For Executing Transactions and Queries</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Executing Transactions</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Using Go SDK</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Using Curl command</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/orion-server/docs/getting-started/transactions/curl/dbtx">Database Administration Transaction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/orion-server/docs/getting-started/transactions/curl/usertx">User Administration Transaction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/orion-server/docs/getting-started/transactions/curl/datatx">Data Transaction</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Executing Queries</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Executing Proof Generation and Verification</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Design Principles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Cases</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Architecture and Design</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security and Trust Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/orion-server/docs/rest-api-specifications">REST API Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/orion-server/docs/roadmap">Roadmap</a></li></ul></nav></div></aside><main class="docMainContainer_QBea"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_R67y"><div class="docItemContainer_fRP7"><article><div class="tocCollapsible_caTw theme-doc-toc-mobile tocMobile_QgRD"><button type="button" class="clean-btn tocCollapsibleButton_YFWb">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Database Administration Transaction</h1></header><p>To create or delete user databases, we need to issue a <code>POST /db/tx {txPayload}</code>, where <code>txPayload</code>
contains information about the database to be created and/or deleted.</p><p>Let&#x27;s cover the following topics:</p><ol><li><a href="#1-create-databases">Create new databases without index</a></li><li><a href="#2-create-a-database-with-index-definition">Create a new database with index definition</a></li><li><a href="#3-delete-databases">Delete existing databases</a></li><li><a href="#4-create-and-delete-databases-in-a-single-transaction">Create and delete databases within a single transaction</a></li><li><a href="#5-invalid-database-administration-transaction">Invalid database administration transactions</a></li></ol><p>Note that all database administration transactions must be submitted by the admin.</p><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="1-create-databases">1) Create Databases<a aria-hidden="true" class="hash-link" href="#1-create-databases" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="11-create-databases-named-db1-and-db2">1.1) Create databases named db1 and db2<a aria-hidden="true" class="hash-link" href="#11-create-databases-named-db1-and-db2" title="Direct link to heading">â€‹</a></h3><p>The following <code>cURL</code> command submits a database administration transaction to create two new databases
named <code>db1</code> and <code>db2</code>:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TxTimeout: 2s&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -X POST http://127.0.0.1:6001/db/tx </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   --data </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;user_id&quot;: &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;tx_id&quot;: &quot;1b6d6414-9b58-45d0-9723-1f31712add71&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;create_dbs&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  &quot;signature&quot;: &quot;MEUCIQDidxd5ScjpfYTIfVmSfC874zO0iosSyQUzRprs8j7VXgIgR7QxISwdjgXX58TktYXobJHwbCC3F/14rxCg0F8Ma1w=&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">}&#x27;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The <code>payload</code> of the database administration transaction must contain a <code>&quot;user_id&quot;</code> that submits the transaction, a <code>&quot;tx_id&quot;</code> to uniquely identify this transaction, and a list of dbs to be created in a <code>&quot;create_dbs&quot;</code> list as shown in the above cURL command.</p><p>As all administrative transactions must be submitted only by the admin, the <code>&quot;user_id&quot;</code> is set to <code>&quot;admin&quot;</code>. As we are creating two dbs named <code>db1</code> and <code>db2</code>, the <code>&quot;create_dbs&quot;</code> is set to <code>[&quot;db1&quot;,&quot;db2&quot;]</code>. Finally, the signature field contains the admin&#x27;s signature on the payload and is computed using the <code>signer</code> utility as shown below:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;tx_id&quot;:&quot;1b6d6414-9b58-45d0-9723-1f31712add71&quot;,&quot;create_dbs&quot;:[&quot;db1&quot;,&quot;db2&quot;]}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The output of the above command is set to the <code>signature</code> field in the data.</p><p>Once the db creation transaction gets validated and committed, it returns a receipt to the transaction submitter.
Note that only if the <code>TxTimeout</code> header is set, the submitting user receives the transaction receipt. This is
because if the <code>TxTimeout</code> is not set, the transaction is submitted asynchronously and the database node
returns as soon as it accepts the transaction into the queue. If the <code>TxTimeout</code> is set, the database node waits
for the specified time. If the transaction is committed by the specified time, the receipt is returned.
The receipt for the above transaction looks something like the following:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bdb-node-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;receipt&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;base_header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;number&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;previous_base_header_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;YRMz96IjKSwQsNM9wPTGC13ueHxwPvjLCnpp/k/HnV4=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;last_committed_block_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;WgR2lRdea8rt6O8UBzSdhtu/LXcAFDAPyYRVGfasHeI=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;last_committed_block_num&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;skipchain_hashes&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;WgR2lRdea8rt6O8UBzSdhtu/LXcAFDAPyYRVGfasHeI=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;tx_merkel_tree_root_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;CzIEbygWXNneRauTgFvxjSa5JvX1FWC3KN51jJDLxT0=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;state_merkel_tree_root_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;QPUvUPUpCL/P31VtV0CuRs5OWhDJZeh2psL1XHOyID8=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;validation_info&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEYCIQDi91QtSpLRKfX2MiIT2KqH9OXZYrULPQZE13EpVfk4QIhAJr960MOF/TgrkX02hDus5z23G1I8DAQtApg2xGaza5Q&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>Once the above transaction gets validated and committed, we can check the existence of <code>db1</code> and <code>db2</code>.</p><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="12-check-the-existence-of-db1">1.2) Check the existence of db1<a aria-hidden="true" class="hash-link" href="#12-check-the-existence-of-db1" title="Direct link to heading">â€‹</a></h3><p>In queries, we have to set the <code>UserID</code> and <code>Signature</code> headers, as opposed to in the transaction, where we need to pass both the <code>UserID</code> and <code>Signature</code> as part of the <code>txPayload</code> itself.</p><p>First, compute the digital signature on the request payload. <code>&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;db_name&quot;:&quot;db1&quot;}&#x27;</code></p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;db_name&quot;:&quot;db1&quot;}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The above command outputs the digital signature that needs to be set in the <code>Signature</code> header.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT"><pre tabindex="0" class="prism-code language-undefined codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MEYCIQCeZXLrqrMYodbbgR7UjHR2yq42H2wbNHbj6KEDwW8a1QIhAIv1udmHjwSssKnJjS5iY1LDfez1/RDv9ZEue4TDfcJZ</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>Next, submit the query by setting the <code>UserID</code> and <code>Signature</code> headers.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;UserID: admin&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Signature: MEYCIQCeZXLrqrMYodbbgR7UjHR2yq42H2wbNHbj6KEDwW8a1QIhAIv1udmHjwSssKnJjS5iY1LDfez1/RDv9ZEue4TDfcJZ&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -X GET http://127.0.0.1:6001/db/db1 </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p><strong>Output:</strong></p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bdb-node-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;exist&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEYCIQCtwYwdWo12alntzm1ZHkseOj5flLe8f8Hb8uGdQpjNwAIhAIHX7ddkikKAc+znEPCBE30iUemXpEC/Av8xdYQ5Rzxr&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="13-check-the-existence-of-db2">1.3) Check the existence of db2<a aria-hidden="true" class="hash-link" href="#13-check-the-existence-of-db2" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;db_name&quot;:&quot;db1&quot;}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The above command outputs the digital signature that needs to be set in the <code>Signature</code> header.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MEYCIQCcd9pucHSiyrP/wTIfSxer1M1qhyuYZ954WyuNO6NNuAIhALXfLg9NdwIDY2xDoLO9GxY5k/5hPqOz6i7fxvurd/v3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;UserID: admin&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Signature: MEYCIQCcd9pucHSiyrP/wTIfSxer1M1qhyuYZ954WyuNO6NNuAIhALXfLg9NdwIDY2xDoLO9GxY5k/5hPqOz6i7fxvurd/v3&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -X GET http://127.0.0.1:6001/db/db2 </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p><strong>Output:</strong></p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bdb-node-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;exist&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEUCIQC1SHGOWpV53UJ39VGfrrm0sbRGE1NUi0yQtAcTggvhhQIgdzuw6vTkgC8i8v/RnnvYbmHJurCmdsjtNUikgvO4HQE=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="2-create-a-database-with-index-definition">2) Create a Database with Index Definition<a aria-hidden="true" class="hash-link" href="#2-create-a-database-with-index-definition" title="Direct link to heading">â€‹</a></h2><p>The following <code>cURL</code> command submits a database administration transaction to create a database named <code>db8</code> with an index definition such that complex queries on fields in the JSON value can be executed.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TxTimeout: 2s&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -X POST http://127.0.0.1:6001/db/tx </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   --data </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;user_id&quot;: &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;tx_id&quot;: &quot;1b6d6414-9b58-45d0-6723-1e31712add71&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;create_dbs&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db8&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;dbs_index&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db8&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                &quot;attribute_and_type&quot;:{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                    &quot;attr1&quot;:2,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                    &quot;attr2&quot;:0,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                    &quot;attr3&quot;:1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  &quot;signature&quot;: &quot;MEYCIQCQiIsgErny1j+bpAew+WeJu/uWTWEvJzmQT9HUFEwsYAIhAMZqUW2mUhg+MDa3a03TVd4fvWtSRS0U4ZJHnJzLzaiC&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">}&#x27;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The signature field contains the admin&#x27;s signature on the payload. It&#x27;s computed using the <code>signer</code> utility as shown below:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;tx_id&quot;:&quot;1b6d6414-9b58-45d0-6723-1e31712add71&quot;,&quot;create_dbs&quot;:[&quot;db8&quot;],&quot;dbs_index&quot;:{&quot;db8&quot;:{&quot;attribute_and_type&quot;:{&quot;attr1&quot;:2,&quot;attr2&quot;:0,&quot;attr3&quot;:1}}}}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The <code>payload</code> of the database administration transaction must contain a <code>&quot;user_id&quot;</code> that submits the transaction, a <code>&quot;tx_id&quot;</code> to uniquely identify this transaction, a list of dbs to be created in <code>&quot;create_dbs&quot;</code>, and an index definition for the database <code>db8</code> as shown in the above cURL command.</p><p>Only indexed fields in a JSON document can be queried using a JSON query. In the above transaction, the field named <code>attr1</code>, <code>attr2</code>, and <code>attr3</code> are asked to be indexed for JSON values stored in the database <code>db8</code>. This enables JSON queries using these indexed fields. For more details, refer to the query <!-- -->[examples]<!-- -->.</p><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="3-delete-databases">3) Delete Databases<a aria-hidden="true" class="hash-link" href="#3-delete-databases" title="Direct link to heading">â€‹</a></h2><p>We can delete an existing database by issuing a database administration transaction. Note that the database to be deleted should exist in the node. Otherwise, the transaction would be marked invalid.</p><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="31-delete-databases-named-db1-and-db2">3.1) Delete databases named db1 and db2<a aria-hidden="true" class="hash-link" href="#31-delete-databases-named-db1-and-db2" title="Direct link to heading">â€‹</a></h3><p>The following curl command can be used to delete two existing databases named <code>db1</code> and <code>db2</code>:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TxTimeout: 2s&quot;</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -X POST http</span><span class="token operator">:</span><span class="token comment" style="color:rgb(98, 114, 164)">//127.0.0.1:6001/db/tx \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   --data &#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;admin&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;tx_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;5c6d6414-3258-45d0-6923-2g31712add82&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;delete_dbs&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;db1&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;db2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEYCIQDC3t4gX4rAXmzqM8359u751vueqaSmYvBEXpCXdafeKAIhAKitFv8r89rRRuAlABhjcgeJPIPTEpkcc3tOZ77YmypV&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">&#x27; | jq .</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The <code>payload</code> of the database administration transaction must contain a <code>&quot;user_id&quot;</code> that submits the transaction, a <code>&quot;tx_id&quot;</code> to uniquely identify this transaction, and a list of dbs to be deleted in a <code>&quot;delete_dbs&quot;</code> list as shown in the above <code>cURL</code> command.</p><p>As all administrative transactions must be submitted only by the admin, the <code>&quot;user_id&quot;</code> is set to <code>&quot;admin&quot;</code>. As we are deleting two existing dbs named <code>db1</code> and <code>db2</code>, the <code>&quot;delete_dbs&quot;</code> is set to <code>[&quot;db1&quot;,&quot;db2&quot;]</code>. Finally, the signature field contains the admin&#x27;s signature on the payload and is computed using the following command:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;tx_id&quot;:&quot;5c6d6414-3258-45d0-6923-2g31712add82&quot;,&quot;delete_dbs&quot;:[&quot;db1&quot;,&quot;db2&quot;]}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The output of the above command is set to the <code>signature</code> field in the data.</p><p>Once the db deletion transaction gets validated and committed, it returns a receipt to the transaction submitter. Note that only if the <code>TxTimeout</code> header is set, the submitting user receives the transaction receipt. This is because if <code>TxTimeout</code> is not set, the transaction is submitted asynchronously and the database node
returns as soon as it accepts the transaction into the queue. If the <code>TxTimeout</code> is set, the database node waits
for the specified time. If the transaction is committed by the specified time, the receipt is returned.
The receipt for the above transaction looks something like the following:</p><p>Once the above transaction gets validated and committed, we can check that <code>db1</code> and <code>db2</code> do not exist anymore.</p><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="32-check-the-existence-of-db1">3.2) Check the existence of db1<a aria-hidden="true" class="hash-link" href="#32-check-the-existence-of-db1" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;UserID: admin&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Signature: MEYCIQCeZXLrqrMYodbbgR7UjHR2yq42H2wbNHbj6KEDwW8a1QIhAIv1udmHjwSssKnJjS5iY1LDfez1/RDv9ZEue4TDfcJZ&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -X GET http://127.0.0.1:6001/db/db1 </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p><strong>Output:</strong></p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;nodeID&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bdb-node-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The default values are omitted and hence, the <code>exist = false</code> is not printed. </p><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="33-check-the-existence-of-db2">3.3) Check the existence of db2<a aria-hidden="true" class="hash-link" href="#33-check-the-existence-of-db2" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;UserID: admin&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Signature: MEYCIQCcd9pucHSiyrP/wTIfSxer1M1qhyuYZ954WyuNO6NNuAIhALXfLg9NdwIDY2xDoLO9GxY5k/5hPqOz6i7fxvurd/v3&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -X GET http://127.0.0.1:6001/db/db2 </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p><strong>Output:</strong></p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bdb-node-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEYCIQCvzD85Rm/Xd1L6B6AvcZWlfhMeho0zj4WcBE66DY3wswIhALaugTByfBvY1O1BFjw7KuHDQUYOM4sDpsudd/6Hy7bt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The default values are omitted and hence, the <code>exist = false</code> is not printed.</p><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="4-create-and-delete-databases-in-a-single-transaction">4) Create and Delete Databases in a Single Transaction<a aria-hidden="true" class="hash-link" href="#4-create-and-delete-databases-in-a-single-transaction" title="Direct link to heading">â€‹</a></h2><p>Within a single transaction, we can create and delete as many number of databases as we want. Note that we can only delete databases if they exist. Otherwise, the transaction would be invalidated. Hence, first create two databases using this <a href="#creation-of-databases">example</a>.
If this example was already executed on the database instance, change the <code>tx_id</code> used in that example and regenerate the signature. Also, do not forgot to update the <code>tx_id</code> and <code>signature</code> set in the payload passed to <code>cURL</code>.</p><p>The following command submits a transaction that creates and deletes databases within a single transaction.
This transactions will be valid only if <code>db3</code> &amp; <code>db4</code> do not exist and <code>db1</code> &amp; <code>db2</code> exist in the cluster.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TxTimeout: 2s&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -X POST http://127.0.0.1:6001/db/tx </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   --data </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;user_id&quot;: &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;tx_id&quot;: &quot;1b6d6414-9b58-12d5-3733-1f31712add88&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;create_dbs&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db3&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db4&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;delete_dbs&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db2&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  &quot;signature&quot;: &quot;MEUCIAjEtDZ2Q6n6cteisp94ggFXk3JUOXCjhfUlftc80gf6AiEA6IPtezn06SaPWQLfGhbx8BrFL4BI4iEIu/TDGtcaCKI=&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">}&#x27;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The signature is computed using the following command:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT"><pre tabindex="0" class="prism-code language-undefined codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey=deployment/sample/crypto/admin/admin.key \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data=&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;tx_id&quot;:&quot;1b6d6414-9b58-12d5-3733-1f31712add88&quot;,&quot;create_dbs&quot;:[&quot;db3&quot;,&quot;db4&quot;],&quot;delete_dbs&quot;:[&quot;db1&quot;,&quot;db2&quot;]}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="5-invalid-database-administration-transaction">5) Invalid Database Administration Transaction<a aria-hidden="true" class="hash-link" href="#5-invalid-database-administration-transaction" title="Direct link to heading">â€‹</a></h2><p>We cover the incorrect usage of administration transactions that can lead to the invalidation of a submitted database administration transaction.</p><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="51-database-to-be-created-already-exists">5.1) Database to be created already exists<a aria-hidden="true" class="hash-link" href="#51-database-to-be-created-already-exists" title="Direct link to heading">â€‹</a></h3><p>Let&#x27;s create a new database <code>db5</code></p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;tx_id&quot;:&quot;1b6d6414-9b58-45d0-9723-1f31712add73&quot;,&quot;create_dbs&quot;:[&quot;db5&quot;]}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The above command outputs the digital signature on the transaction payload.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT"><pre tabindex="0" class="prism-code language-undefined codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MEUCIQCqYEdJOwf6JXAOCmAaub745uTEb2jyCFs10zZOhDIvUAIgN/ody6R9q3u5Q26Tabn3lPY1zz8NCUHCo6ymSu15jI4=</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>Include the above signature and submit the transaction to create the database <code>db5</code>.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> curl \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TxTimeout: 2s&quot;</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -X POST http</span><span class="token operator">:</span><span class="token comment" style="color:rgb(98, 114, 164)">//127.0.0.1:6001/db/tx \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   --data &#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;admin&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;tx_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1b6d6414-9b58-45d0-9723-1f31712add73&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;create_dbs&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;db5&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEUCIQCqYEdJOwf6JXAOCmAaub745uTEb2jyCFs10zZOhDIvUAIgN/ody6R9q3u5Q26Tabn3lPY1zz8NCUHCo6ymSu15jI4=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">&#x27; | jq .</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>Let&#x27;s try to create <code>db5</code> again.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;tx_id&quot;:&quot;1b6d6414-9b58-45d0-9723-1f31712add74&quot;,&quot;create_dbs&quot;:[&quot;db5&quot;]}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MEQCIBySAJhI5DCshQ/KWagquxtV8S6gRSiqG/qYrcwxhmyTAiAZG8wpcQx33uTlItROQN5B5izTZhntxhqWRTfv8t84uw</span><span class="token operator">==</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TxTimeout: 2s&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   -X POST http://127.0.0.1:6001/db/tx </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   --data </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;user_id&quot;: &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;tx_id&quot;: &quot;1b6d6414-9b58-45d0-9723-1f31712add74&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        &quot;create_dbs&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;db5&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  &quot;signature&quot;: &quot;MEQCIBySAJhI5DCshQ/KWagquxtV8S6gRSiqG/qYrcwxhmyTAiAZG8wpcQx33uTlItROQN5B5izTZhntxhqWRTfv8t84uw==&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">}&#x27;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The above transaction would be invalidated with the following reason: <code>the database [db5] already exists in the cluster and hence, it cannot be created</code>
The exact output would be</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bdb-node-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;receipt&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;base_header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;number&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;previous_base_header_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;buuy+aLzGABHKoVS7XemlQFyynryMwtXHZ5Oq8SHewE=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;last_committed_block_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;4Km4QTQDIZ+u7GmFJOqG8HXgmWEMkedJRcczp6xweo4=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;last_committed_block_num&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;skipchain_hashes&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;4Km4QTQDIZ+u7GmFJOqG8HXgmWEMkedJRcczp6xweo4=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;JAS8SOSIZqBQMQs9PUkgrCjAF4I//lzjcYshgAtMvzs=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;tx_merkel_tree_root_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;tgsHvDvjWbO8P/BIvtvRHuIBZUnptfpiHN9RyBSu9Lw=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;state_merkel_tree_root_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;qmolWEmx9D8BtWPRUEE0tz4/bvzhxLpZUJR1gA7AT4Q=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;validation_info&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;flag&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;reason_if_invalid&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;the database [db5] already exists in the cluster and hence, it cannot be created&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEUCIFfdEaH9himxa0544ibi318+sVQ9BH3wst3a3dLngQklAiEA1FE42WXpQyqGx71stLp0NoRqhKi9LTQnTT6e3Erebvk=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">l</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>In the transaction receipt, we can see that the following:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT"><pre tabindex="0" class="prism-code language-undefined codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;validation_info&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;flag&quot;: 5,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;reason_if_invalid&quot;: &quot;the database [db5] already exists in the cluster and hence, it cannot be created&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="52-database-to-be-deleted-does-not-exist">5.2) Database to be deleted does not exist<a aria-hidden="true" class="hash-link" href="#52-database-to-be-deleted-does-not-exist" title="Direct link to heading">â€‹</a></h3><p>Let&#x27;s try to delete <code>db6</code> which does not exist in the cluster.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;tx_id&quot;:&quot;1b6d6414-9b58-45d0-9723-1f31712add75&quot;,&quot;delete_dbs&quot;:[&quot;db6&quot;]}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT"><pre tabindex="0" class="prism-code language-undefined codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MEUCIQCdUyJJEcBXqR1JPnIpaR6rVYXNSzFThhuLils1SWA2lAIgQ6KFClkJtrRRuhJqu3R7q9KUcQN2bBXrdvXJK3n9/Qk=</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TxTimeout: 2s&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     -X POST http://127.0.0.1:6001/db/tx </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     --data </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;user_id&quot;: &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;tx_id&quot;: &quot;1b6d6414-9b58-45d0-9723-1f31712add75&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;delete_dbs&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                &quot;db6&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      &quot;signature&quot;: &quot;MEUCIQCdUyJJEcBXqR1JPnIpaR6rVYXNSzFThhuLils1SWA2lAIgQ6KFClkJtrRRuhJqu3R7q9KUcQN2bBXrdvXJK3n9/Qk=&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  }&#x27;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The above transaction would be invalidated with the following reason: <code>the database [db6] does not exist in the cluster and hence, it cannot be deleted</code>.</p><p>The following would be the transaction receipt that holds the reason for the invalidation:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bdb-node-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;receipt&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;base_header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;number&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;previous_base_header_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;lLU6v1B2shIuugSC8scHno989kzNrI9j+l3uw51ULt4=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;last_committed_block_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;XltNBYrr8XF6L8TSc9QcJmoGYchzqmbeCbpR/BjXTrE=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;last_committed_block_num&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;skipchain_hashes&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;XltNBYrr8XF6L8TSc9QcJmoGYchzqmbeCbpR/BjXTrE=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;tx_merkel_tree_root_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;UIG89/PfrT79WGZJHZINST+qSHXGaVSt0CwcuL0V0kQ=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;state_merkel_tree_root_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;qmolWEmx9D8BtWPRUEE0tz4/bvzhxLpZUJR1gA7AT4Q=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;validation_info&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;flag&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;reason_if_invalid&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;the database [db6] does not exist in the cluster and hence, it cannot be deleted&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEQCIEQJItcH5M3wptuNMdOsKmZTARMomqpgcvJigM46sxdUAiB8+3FMNwyU4x5NUdPIi5Prd2jL9KiNuDdNoHINksYB1Q==&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_7Y9k" id="53-database-to-be-deleted-is-a-system-database">5.3) Database to be deleted is a system database<a aria-hidden="true" class="hash-link" href="#53-database-to-be-deleted-is-a-system-database" title="Direct link to heading">â€‹</a></h3><p>Let&#x27;s try to delete a system database <code>_config</code>.</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/signer -privatekey</span><span class="token operator">=</span><span class="token plain">deployment/sample/crypto/admin/admin.key </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -data</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;user_id&quot;:&quot;admin&quot;,&quot;tx_id&quot;:&quot;1b6d6414-9b58-45d0-9723-1f31712add76&quot;,&quot;delete_dbs&quot;:[&quot;_config&quot;]}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MEUCIAiy5DIQvpPk8a1+e1Q5hZww+fm71PUx1kyBF8i5Vr70AiEA5i7Q33t5TbL66k4syAYmitj+fWnf4z6nvIjuS3ilJ9s</span><span class="token operator">=</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT shell"><pre tabindex="0" class="prism-code language-shell codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;TxTimeout: 2s&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     -X POST http://127.0.0.1:6001/db/tx </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     --data </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;user_id&quot;: &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;tx_id&quot;: &quot;1b6d6414-9b58-45d0-9723-1f31712add76&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            &quot;delete_dbs&quot;: [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                &quot;_config&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      &quot;signature&quot;: &quot;MEUCIAiy5DIQvpPk8a1+e1Q5hZww+fm71PUx1kyBF8i5Vr70AiEA5i7Q33t5TbL66k4syAYmitj+fWnf4z6nvIjuS3ilJ9s=&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  }&#x27;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> jq </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The above transaction would be invalidated with the following reason: <code>the database [_config] is a system database which cannot be deleted</code>.
The following is the transaction receipt:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT webmanifest"><pre tabindex="0" class="prism-code language-webmanifest codeBlock_ltyB thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;response&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;node_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bdb-node-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;receipt&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;base_header&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;number&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">9</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;previous_base_header_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mE6Gr5PTXzJbXsUATl/Fv+Xkg81Cbrtw8MfUJreb9og=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;last_committed_block_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;4QleYwwhc+DCYeYaIdrdTpMeOgUa5O8F40vuVuZFsEs=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;last_committed_block_num&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;skipchain_hashes&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;4QleYwwhc+DCYeYaIdrdTpMeOgUa5O8F40vuVuZFsEs=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;XltNBYrr8XF6L8TSc9QcJmoGYchzqmbeCbpR/BjXTrE=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;JAS8SOSIZqBQMQs9PUkgrCjAF4I//lzjcYshgAtMvzs=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;fCjyJMJc/xLMdW7uRH22w7ps2QbGeLiLIfIJPMntitI=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;tx_merkel_tree_root_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;xEgj6T0djExEdGvWxwCrgD9nXj26VTyQYgYGTEcLscs=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;state_merkel_tree_root_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;qmolWEmx9D8BtWPRUEE0tz4/bvzhxLpZUJR1gA7AT4Q=&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;validation_info&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;flag&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;reason_if_invalid&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;the database [_config] is a system database which cannot be deleted&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;signature&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MEMCHztXBWGjF0X+CJQ01QZyyKftqK7h7kW2VhuTDHx6UoECIGdjkHMkflSGywWnVBAM9zKVhllWS0ApJkvyaYUDFOHQ&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/orion-server/docs/getting-started/transactions/gosdk/datatx"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Data Transaction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/orion-server/docs/getting-started/transactions/curl/usertx"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">User Administration Transaction<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_1gSR thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-create-databases" class="table-of-contents__link toc-highlight">1) Create Databases</a><ul><li><a href="#11-create-databases-named-db1-and-db2" class="table-of-contents__link toc-highlight">1.1) Create databases named db1 and db2</a></li><li><a href="#12-check-the-existence-of-db1" class="table-of-contents__link toc-highlight">1.2) Check the existence of db1</a></li><li><a href="#13-check-the-existence-of-db2" class="table-of-contents__link toc-highlight">1.3) Check the existence of db2</a></li></ul></li><li><a href="#2-create-a-database-with-index-definition" class="table-of-contents__link toc-highlight">2) Create a Database with Index Definition</a></li><li><a href="#3-delete-databases" class="table-of-contents__link toc-highlight">3) Delete Databases</a><ul><li><a href="#31-delete-databases-named-db1-and-db2" class="table-of-contents__link toc-highlight">3.1) Delete databases named db1 and db2</a></li><li><a href="#32-check-the-existence-of-db1" class="table-of-contents__link toc-highlight">3.2) Check the existence of db1</a></li><li><a href="#33-check-the-existence-of-db2" class="table-of-contents__link toc-highlight">3.3) Check the existence of db2</a></li></ul></li><li><a href="#4-create-and-delete-databases-in-a-single-transaction" class="table-of-contents__link toc-highlight">4) Create and Delete Databases in a Single Transaction</a></li><li><a href="#5-invalid-database-administration-transaction" class="table-of-contents__link toc-highlight">5) Invalid Database Administration Transaction</a><ul><li><a href="#51-database-to-be-created-already-exists" class="table-of-contents__link toc-highlight">5.1) Database to be created already exists</a></li><li><a href="#52-database-to-be-deleted-does-not-exist" class="table-of-contents__link toc-highlight">5.2) Database to be deleted does not exist</a></li><li><a href="#53-database-to-be-deleted-is-a-system-database" class="table-of-contents__link toc-highlight">5.3) Database to be deleted is a system database</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/orion-server/docs/getting-started/guide">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/orion" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_tjMl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/orion" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_tjMl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/orion" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_tjMl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/orion-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/hyperledger-labs/orion-server" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_tjMl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Hyperledger Orion</div></div></div></footer></div>
<script src="/orion-server/assets/js/runtime~main.41e822a2.js"></script>
<script src="/orion-server/assets/js/main.4c1eb169.js"></script>
</body>
</html>